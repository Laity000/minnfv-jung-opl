%实验1.1：节能效率
%topo：newyork56-1 india35-1

[ha, pos] = tight_subplot(1,2,[.01 .15],[.2 .05],[.06 .02]);
%[ha, pos] = tight_subplot(行, 列, [上下间距,左右间距],[下边距,上边距 ], [左边距,右边距 ])


x1 = [0 1 2 3 4 5 6 7 8 9 10]
x1_1 = [46 23 16 14 10 9 8 7 6 5 4];
%能耗开销
y1_1 = [79135 82470 88005 101340 96875 107010 111345 115280 115215 131220 131090]/1000;
%ram能耗开销
y1_2 = [460280 257880 196280 178680 143480 134680 125880 137950 146280 147090 131090]/1000;

axes(ha(1));
plot(x1,y1_1,'m*-',x1,y1_2,'cd-')
legend('能耗感知算法','最短路径算法'); 
xlabel('节点VM数量(p-%)');
ylabel('能耗开销(KW)');

set(gca,'XTick',0:1:10);
%set(gca,'XTickLabel',{'46','23','16','14','10','9','8','7','6','5','4'}); 
set(gca,'XTickLabel',{'100','50.0','34.8','30.4','21.7','19.6','17.4','15.2','13.0','10.9','8.7'}); 

x2 = [0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17];
x2_1 = [138 70 47 36 30 25 22 19 17 16 14 13 12 10 9 8 7 6];
x3 = [0 1 2 3 4 5 6 7 8 9 10 11 12];
x3_1 = [138 70 47 36 30 25 22 17 14 12 9 8 6];
%能耗开销
y2_1 = [235535 242270 246705 254540 265675 267210 276745 276680 281715 291550 288885 295020 322090 312760 350500 350970 372110 384450]/1000
y3_1 = [235535 242270 246705 254540 265675 267210 276745 281715 288885 322090 350500 350970 384450]/1000
%ram能耗开销
y2_2 = [2399025 1273725 897525 716025 617025 534522 485025 435525 402525 386025 353025 336525 320025 397335 386770 434745 407850 404920]/1000;
y3_2 = [2399025 1273725 897525 716025 617025 534522 485025 402525 353025 320025 386770 434745 404920]/1000;

axes(ha(2));
plot(x3,y3_1,'m*-',x3,y3_2,'cd-')
legend('能耗感知算法','最短路径算法'); 
xlabel('节点VM数量(p-%)');
ylabel('能耗开销(KW)');

set(gca,'XTick',0:1:13);
%set(gca,'XTickLabel',{'100','50.7','34.1','26.1','21.7','18.1','15.9','13.8','12.3','11.6','10.1','9.4','8.7','7.2','6.5','5.8','5.1','4.3'});
%set(gca,'XTickLabel',{'138','70','47','36','30','25','22','19','17','16','14','13','12','10','9','8','7','6'});
set(gca,'XTickLabel',{'100','50.7','34.1','26.1','21.7','18.1','15.9','12.3','10.1','8.7','6.5','5.8','4.3'});
%set(gca,'XDir','reverse')


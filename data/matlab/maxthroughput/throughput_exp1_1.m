%实验1：不同请求数量对吞吐量的影响
%topo：pdh18-3
%x轴为请求数量


[ha, pos] = tight_subplot(1,3,[.01 .07],[.2 .05],[.05 .03]);

%[ha, pos] = tight_subplot(行, 列, [上下间距,左右间距],[下边距,上边距 ], [左边距,右边距 ])

%请求的数量
x = [10 20 30 40 50 60 70 80 90 100 110 120 130];

%允许请求的数量
y1_1 = [10 20 23 27 28 31 32 33 34 35 36 37 37];
y1_2 = [10 19 23 24 23 24 24 25 26 27 27 29 30];
y1_3 = [9  18 23 25 28 29 29 31 32 34 35 36 36]

axes(ha(1));
plot(x,y1_1,'ko-',x,y1_2,'bx-',x,y1_3,'r*-')
legend('OPL','HEU-T','GAP'); legend boxoff
xlabel('请求数量');
ylabel('可接纳请求数量');


y2_1 = [2.3 2.45 2.22 2.33 2.25 2.32 2.34 2.36 2.35 2.34 2.38 2.33 2.30] ./ [1.9 1.85 1.7 1.67 1.71 1.68 1.75 1.76 1.79 1.69 1.72 1.73 1.73];
y2_2 = [2.7 2.84 2.65 2.58 2.39 2.37 2.37 2.48 2.5 2.52 2.48 2.52 2.56] ./ [1.9 1.84 1.83 1.83 1.91 1.87 1.79 1.96 1.96 1.96 1.96 2.03 2.1];
%y2_1 = [2.3/1.9 2.45/1.85 2.22/1.7 2.33/1.67 2.25/1.71 2.32/1.68 2.34/1.75 2.36/1.76 2.35/1.79];
%y2_2 = [2.7/1.9 2.84/1.84 2.65/1.83 2.58/1.83 2.39/1.91 2.37/1.87 2.37/1.79 2.48/1.96 2.5/1.96];
y2_3 = [1.18 1.40 1.42 1.40 1.38 1.34 1.43 1.40 1.38 1.44 1.38 1.36 1.36]

y2_1_1 = [2.3 2.45 2.22 2.33 2.25 2.32 2.34 2.36 2.35 2.34 2.33 2.38 2.30]
y2_2_1 = [2.7 2.84 2.65 2.58 2.39 2.37 2.37 2.48 2.50 2.52 2.48 2.52 2.56]
y2_3_1 = [2.22 2.47 2.27 2.26 2.35 2.31 2.41 2.38 2.40 2.41 2.37 2.31 2.30]

axes(ha(2));
%plot(x,y2_1_1,'bo-',x,y2_2_1,'kx-',x,y2_3_1,'r*-')
plot(x,y2_1,'ko-',x,y2_2,'bx-',x,y2_3,'r*-')
legend('OPL','HEU-T','GAP'); legend boxoff  
xlabel('请求数量');
ylabel('平均时延比');

y3_1 = [330 42080 58980 41530 56920 360750 63700 55030 2238640 121140 124750 93160 134550];
y3_2 = [541 620 733 817 894 960 1021 1125 1155 1262 1311 1390 1395];
y3_3 = [970 1020 4730 2130 3030 5090 2410 2260 2360 1530 2380 3380 7300]

axes(ha(3));
plot(x,y3_1,'ko-',x,y3_2,'bx-',x,y3_3,'r*-')
legend('OPL','HEU-T','GAP');   legend boxoff
xlabel('请求数量');
ylabel('求解时间（ms）');

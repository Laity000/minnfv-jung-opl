%实验1.1：不同资源限制下的影响(一致SFC、随机SFC)
%topo：newyork56-1
%x轴全部为VM数量


[ha, pos] = tight_subplot(1,3,[.01 .07],[.2 .05],[.05 .03]);

%[ha, pos] = tight_subplot(行, 列, [上下间距,左右间距],[下边距,上边距 ], [左边距,右边距 ])

x1_1 = [ 46 45 40 30 23 22 20 16 15 14 13 10 9 8 7 6 5 4]/46*100;
y1_1 = [ 1 2 2 2 2 3 3 3 4 4 5 5 6 7 8 9 12 14];
x1_2 = [ 46 45 40 30 24 23 20 16 15 14 13 12 10 9 8 7 6 5 4]/46*100;
y1_2 = [1 2 2 2 2 3 3 3 4 4 4 5 5 6 7 8 10 11 13];
axes(ha(1));
plot(x1_1,y1_1,'m*-',x1_2,y1_2,'cd-')
legend('一致型SFC','随机型SFC'); 
xlabel('节点VM数量(p-%)');
ylabel('活跃PM数量');
set(gca,'XDir','reverse')

x2_1 = [46 23 16 14 10 9 8 7 6 5 4]/46*100
y2_1 = [79135 82470 88005 101340 96875 107010 111345 115280 115215 131220 131090]/1000;
x2_2 = [46 24 16 13 10 9 8 7 6 5 4]/46*100
y2_2 = [78135 84670 88605 97540 97475 105210 111345 116480 126950 122385 123355]/1000;
axes(ha(2));
plot(x2_1,y2_1,'m*-',x2_2,y2_2,'cd-')
legend('一致型SFC','随机型SFC');   
xlabel('节点VM数量(p-%)');
ylabel('最小能耗开销(KW)');
set(gca,'XDir','reverse')

x3_1 = [46 23 16 14 10 9 8 7 6 5 4]/46*100
y3_1 = [3.00 2.77 2.63 2.38 2.25 2.32 2.09 2.50 2.75 2.70 2.64]/1.786;
x3_2 = [46 24 16 13 10 9 8 7 6 5 4]/46*100
y3_2 = [3.00 2.80 2.63 2.46 2.25 2.30 2.09 2.89 2.70 2.93 3.00]/1.786;

%x3_1 = [60 50 46 45 40 30 23 22 20 16 15 14 13 10 9 8 7 6 5 4]
%y3_1 = [3.00 3.00 3.00 2.64 2.64 2.64 2.77 2.43 2.45 2.63 2.21 2.38 2.04 2.25 2.32 2.09 2.50 2.75 2.70 2.64]/1.786
%x3_2 = [60 50 46 45 40 30 24 23 20 16 15 14 13 12 10 9 8 7 6 5 4]
%y3_2 = [3.00 3.00 3.00 2.73 2.73 2.73 2.80 2.52 2.52 2.63 2.27 2.34 2.46 2.04 2.25 2.30 2.09 2.89 2.70 2.93 3.00]/1.786

axes(ha(3));
plot(x3_1,y3_1,'m*-',x3_2,y3_2,'cd-')
legend('一致型SFC','随机型SFC');   
xlabel('节点VM数量(p-%)');
ylabel('时延比');
set(gca,'XDir','reverse')
